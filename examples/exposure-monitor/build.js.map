{"version":3,"sources":["webpack:///webpack/bootstrap 056f2c97dfe115960c21","webpack:///./main.js","webpack:///./App.vue?6c64","webpack:///./App.vue","webpack:///./App.vue?37db","webpack:///./exposure-monitor.js","webpack:///./util.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 056f2c97dfe115960c21\n **/","\nimport App from './App.vue'\nimport ExposureMonitor from './exposure-monitor.js'\n\nVue.config.debug = true;\n\nVue.directive('exposure', ExposureMonitor);\n\nnew Vue({\n  el: 'body',\n  components: { App }\n})\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","module.exports = require(\"-!babel-loader?presets[]=es2015&plugins[]=transform-runtime!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n\nif (module.exports.__esModule) module.exports = module.exports.default\n;(typeof module.exports === \"function\" ? module.exports.options : module.exports).template = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Users/yeehoneliu/WorkSpace/vue-in-action/examples/exposure-monitor/App.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, (typeof module.exports === \"function\" ? module.exports.options : module.exports).template)\n  }\n})()}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./App.vue\n ** module id = 2\n ** module chunks = 0\n **/","// <template>\n// \t<div v-exposure='{\n// \t\t\t\t\"selector\": \"[data-src]\",\n// \t\t\t\t\"domUpdateTrigger\": \"imgs\",\n// \t\t\t\t\"dealMethod\": \"imgLazyload\"\n// \t\t\t}' :exposure-opt=\"lazyloadOpt\">\n// \t\t<div v-for='img in imgs'>\n// \t\t\t<img data-src=\"{{img}}\" style=\"width: 300px;height:300px\">\n// \t\t</div>\n// \t</div>\n// </template>\n\n// <script>\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\timgs: [\"http://img0.bdstatic.com/img/image/imglogo-r.png\", \"http://img0.bdstatic.com/img/image/shitulogo-r.png\", \"http://img0.bdstatic.com/img/image/inputurl-info.png\", \"http://img0.bdstatic.com/static/searchresult/img/uploading_ca6dc69.gif\", \"http://g.hiphotos.baidu.com/image/h%3D200/sign=77dd47223dc79f3d90e1e3308aa3cdbc/aec379310a55b319552480a845a98226cefc1709.jpg\", \"http://img0.imgtn.bdimg.com/it/u=4173592507,1356158505&fm=11&gp=0.jpg\", \"http://img0.imgtn.bdimg.com/it/u=2880119934,4249368622&fm=21&gp=0.jpg\", \"http://img2.imgtn.bdimg.com/it/u=172597849,68197783&fm=21&gp=0.jpg\", \"http://img5.imgtn.bdimg.com/it/u=3915822806,1331350747&fm=21&gp=0.jpg\", \"http://img0.imgtn.bdimg.com/it/u=2637034546,351351578&fm=21&gp=0.jpg\", \"http://img5.imgtn.bdimg.com/it/u=2421164664,2576407485&fm=21&gp=0.jpg\", \"http://img2.bdstatic.com/static/searchresult/img/loading_circle_40b82ef.gif\", \"http://img0.bdstatic.com/img/image/shouye/mnvd001.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mnvf002.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mnvf003.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mnve004.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mnvf005.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mnvd006.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mnvf007.jpg\", \"http://img0.bdstatic.com/img/image/shouye/mxn001.jpg\"],\n\t\t\tlazyloadOpt: [{\n\t\t\t\tselector: '[data-src]',\n\t\t\t\tdomUpdateTrigger: 'imgs',\n\t\t\t\tdealMethod: 'imgLazyload'\n\t\t\t}, {\n\t\t\t\tselector: 'img',\n\t\t\t\tdomUpdateTrigger: 'imgs',\n\t\t\t\tdealMethod: 'exposureReport'\n\t\t\t}]\n\t\t}\n\t},\n\tmethods: {\n\t\timgLazyload: function(node) {\n\t\t\tconsole.log('imgLazyload', node.nodeName);\n\t\t\tvar src = node.getAttribute('data-src');\n\t\t\tif(src) {\n\t\t\t\tnode.removeAttribute('data-src');\n\t\t\t\tnode.src = src;\n\t\t\t}\n\t\t},\n\t\texposureReport: function(node) {\n\t\t\tconsole.log('exposureReport', node.nodeName);\n\t\t}\n\t}\n}\n// </script>\n\n\n\n/** WEBPACK FOOTER **\n ** ./App.vue\n **/","module.exports = \"<div v-exposure='{\\n\\t\\t\\t\\t\\\"selector\\\": \\\"[data-src]\\\",\\n\\t\\t\\t\\t\\\"domUpdateTrigger\\\": \\\"imgs\\\",\\n\\t\\t\\t\\t\\\"dealMethod\\\": \\\"imgLazyload\\\"\\n\\t\\t\\t}' :exposure-opt=\\\"lazyloadOpt\\\">\\n\\t\\t<div v-for='img in imgs'>\\n\\t\\t\\t<img data-src=\\\"{{img}}\\\" style=\\\"width: 300px;height:300px\\\">\\n\\t\\t</div>\\n\\t</div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/yeehoneliu/WorkSpace/vue-in-action/~/vue-html-loader!/Users/yeehoneliu/WorkSpace/vue-in-action/~/vue-loader/lib/selector.js?type=template&index=0!./App.vue\n ** module id = 4\n ** module chunks = 0\n **/","import Util from './util.js'\n\nexport default {\n\topts: {},\n\twatches: [],\n\tparams: ['exposure-opt'],\n\tcheckInview (node) {\n\t\tvar rect = node.getBoundingClientRect();\n\t\tconsole.log('directives[exposure]: checkInview, rect: ', rect, 'clientHeight: ', document.documentElement.clientHeight);\n\t\treturn rect.width && rect.height && rect.top >= 0 && rect.top <= document.documentElement.clientHeight;\n\t},\n\tdealExposures () {\n\t\tfor (var selector in this.opts) {\n\t\t\tvar opt = this.opts[selector];\n\t\t\tconsole.log('directives[exposure]: dealExposures opt', opt);\n\t\t\tvar arr = opt.arr || [];\n\t\t\tvar fn = this.vm.$options.methods[opt.dealMethod];\n\t\t\tfor (var i = 0, length = arr.length, one; i < length && (one = arr[i]); i++) {\n\t\t\t\tif(one.getAttribute('data-is-exposed-' + opt.dealMethod) == 1) continue;\n\t\t\t\tif (this.checkInview(one)) {\n\t\t\t\t\ttypeof fn == 'function' && fn.call(this, one);\n\t\t\t\t\t!opt.always && one.setAttribute('data-is-exposed-' + opt.dealMethod, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetDomNodes (opt) {\n\t\treturn this.vm.$el.querySelectorAll(opt.selector);\n\t},\n\tbindEvent (opt) {\n\t\tif(!opt.selector || !opt.domUpdateTrigger || !opt.dealMethod) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar that = this;\n\t\tvar domUpdate = function() {\n\t\t\tconsole.log('directives[exposure]: domUpdate opt: ', opt);\n\t\t\topt.arr = this.getDomNodes(opt);\n\t\t\tthis.throttleOncePerThresholdDealExposures();\n\t\t};\n\t\t\n\t\tvar unwatch = this.vm.$watch(opt.domUpdateTrigger, function() {\n\t\t\tconsole.log('directives[exposure]: domUpdateTrigger: ', arguments, this);\n\t\t\tdomUpdate.call(that);\n\t\t});\n\t\tthis.watches.push(unwatch);\n\n\t\tthis.opts[opt.selector] = opt;\n\t\t\n\t\tconsole.log('directives[exposure]: bindEvent', arguments);\n\n\t\tthis.vm.$nextTick(function() {\n\t\t\tdomUpdate.call(that);\n\t\t});\n\t},\n\tbind () {\n\t\tconsole.log('directives[exposure]: bind', arguments);\n\n\t\tthis.throttleOncePerThresholdDealExposures = Util.throttle(this.dealExposures, 1, true);\n\t\tthis.throttleDealExposures = Util.throttle(this.dealExposures, 150);\n\n\t\tvar exposureOpt = this.params && this.params['exposureOpt'];\n\t\tif (exposureOpt) {\n\t\t\tif (Object.prototype.toString.call(exposureOpt) == '[object Array]') {\n\t\t\t\tfor (var i = 0; i < exposureOpt.length; i++) {\n\t\t\t\t\tthis.bindEvent.call(this, exposureOpt[i]);\n\t\t\t\t}\n\t\t\t} else if (Object.prototype.toString.call(exposureOpt) == '[object Object]') {\n\t\t\t\tthis.bindEvent.call(this, exposureOpt);\n\t\t\t}\n\t\t} else if (this.expression) {\n\t\t\tvar opt = {};\n\t\t\ttry {\n\t\t\t\topt = JSON.parse(this.expression || {});\n\t\t\t} catch (e) {}\n\t\t\tthis.bindEvent.call(this, opt);\n\t\t}\n\n\t\twindow.addEventListener('scroll', this.throttleDealExposures.bind(this), false);\n\t\twindow.addEventListener('resize', this.throttleDealExposures.bind(this), false);\n\t},\n\tupdate () {\n\t\tconsole.log('directives[exposure]: update', arguments);\n\t},\n\tunbind () {\n\t\tconsole.log('directives[exposure]: unbind', arguments);\n\t\twindow.removeEventListener('scroll', this.dispatchScrollEvt.bind(this), false);\n\t\twindow.removeEventListener('resize', this.dispatchScrollEvt.bind(this), false);\n\t\tfor(var i = 0, length = this.watches.length, one; i < length && (one = this.watches[i]); i++) {\n\t\t\tone();\n\t\t}\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./exposure-monitor.js\n **/","export default {\n\tdebounce(fn, delay) {\n\t\tvar timer;\n\t\treturn function() {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\t\t\tconsole.log('util[debounce] enter', timer, delay);\n\t\t\ttimer && clearTimeout(timer);\n\t\t\ttimer = setTimeout(function() {\n\t\t\t\tconsole.log('util[debounce] exec', timer, delay);\n\t\t\t\tfn && fn.apply(context, args);\n\t\t\t}, delay || 200);\n\t\t}\n\t},\n\tthrottle(fn, threshold, oncePerThreshold){\n\t\tthreshold = threshold || 200;\n\t\tvar last, timer;\n\t\treturn function(){\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\t\t\tvar now = +new Date();\n\t\t\tif(last && now < last + threshold){\n\t\t\t\tif(!oncePerThreshold) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(function(){\n\t\t\t\t\t\tlast = now;\n\t\t\t\t\t\tfn && fn.apply(context, args);\n\t\t\t\t\t}, threshold);\t\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tlast = now;\n\t\t\t\tfn && fn.apply(context, args);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./util.js\n **/"],"sourceRoot":""}